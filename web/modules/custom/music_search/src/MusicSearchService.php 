<?php

namespace Drupal\music_search;

use Drupal\spotify_lookup\SpotifyLookupService;
use Drupal\discogs_lookup\DiscogsLookupService;

class MusicSearchService {

  protected $spotifyService;
  protected $discogsService;

  public function __construct(SpotifyLookupService $spotifyService, DiscogsLookupService $discogsService) {
    $this->spotifyService = $spotifyService;
    $this->discogsService = $discogsService;
  }

  public function search($query, $service) {
    switch ($service) {
      case 'spotify':
        return $this->spotifyService->search($query);
      case 'discogs':
        return $this->discogsService->search($query);
      default:
        throw new \Exception('Unsupported service.');
    }
  }
}
